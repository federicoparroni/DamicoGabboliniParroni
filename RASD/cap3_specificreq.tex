\chapter{Specific requirements}

\section{External Interface Requirements}
The application shows its best potential when running in a mobile device, for instance a smartphone or a tablet. This permits to extend the features and the automatic tasks of the application, thanks to the built-in device functionalities. However, a computer client version of the application can be installed, too.

\subsection{User interfaces}
The user can interact with the application through several graphical interfaces:
\begin{enumerate}
\item \textbf{Registration/login interface}: allows the user to insert credentials in order to registering or logging into the system;
\begin{figure}[H]
\begin{center}
\includegraphics[width=250pt, keepaspectratio]{"images/interfaces/login".jpg}
\caption{Registration/login interface}
\end{center}
\end{figure}

\item \textbf{User account interface}: user can specify his profile characteristics, such as his passes, car and/or bike ownership;
\begin{figure}[H]
\begin{center}
\includegraphics[width=250pt, keepaspectratio]{"images/interfaces/userprofile".jpg}
\caption{User account interface}
\end{center}
\end{figure}

\item \textbf{Home interface}: shows currently running schedule and displays some navigation links to other interfaces;
\begin{figure}[H]
\begin{center}
\includegraphics[width=250pt, keepaspectratio]{"images/interfaces/"home".jpg}
\caption{Home interface}
\end{center}
\end{figure}

\item \textbf{Appointment CRUD interface}: allows creating, showing and editing appointment parameters and related constraints;
\begin{figure}[H]
\begin{center}
\includegraphics[width=250pt, keepaspectratio]{"images/interfaces/appointment".jpg}
\caption{Appointment CRUD interface}
\end{center}
\end{figure}

\item \textbf{Appointments list interface}: provides a list of all inserted appointments, with the possibility to filter between non-scheduled/scheduled ones (includes the possibility to delete an item of the list);
\begin{figure}[H]
\begin{center}
\includegraphics[width=250pt, keepaspectratio]{"images/interfaces/"appointments".jpg}
\caption{Appointments list interface}
\end{center}
\end{figure}

\item \textbf{Schedules list interface}: display a list of the created schedules
\begin{figure}[H]
\begin{center}
\includegraphics[width=250pt, keepaspectratio]{"images/interfaces/"schedules".jpg}
\caption{Schedules list interface}
\end{center}
\end{figure}

\item \textbf{Schedule interface}: user can set parameters, contraints, optimization criteria and request a schedule creation for a given date;
\begin{figure}[H]
\begin{center}
\includegraphics[width=250pt, keepaspectratio]{"images/interfaces/"schedule".jpg}
\caption{Schedule interface}
\end{center}
\end{figure}

\item \textbf{Schedules result interface}: shows the computation of the requested schedules for a given date and asks the user to select one, then waits for confirmation for that;
\begin{figure}[H]
\begin{center}
\includegraphics[width=250pt, keepaspectratio]{"images/interfaces/"schedule results".jpg}
\caption{Schedules result interface}
\end{center}
\end{figure}

\item \textbf{Schedule progress interface}: permits to keep track of the completeness percentage, indicating the directions to be followed by the user in a map, in order to arrive to the next appointments;
\begin{figure}[H]
\begin{center}
\includegraphics[width=250pt, keepaspectratio]{"images/interfaces/schedule progress".jpg}
\caption{Schedule progress interface}
\end{center}
\end{figure}

\item \textbf{Tickets/rides reservation interface}: allows user to buy tickets for public travel means and/or reserve a ride for the shared travel means;
%\item \textbf{Appointments history interface}: shows a list of archived appointments;
\end{enumerate}

\subsection{Hardware interfaces}
Hardware interfaces are physical linking across which two or more separate components of a system exchange information. A hardware interface is described by the mechanical and electrical signals at the interface and the protocol for sequencing them. There are no interesting hardware interfaces in our scope.
%Our system relies on the following hardware interfaces:
%\begin{itemize}
%\item Mobile device: 
%\item Server: the subsystem is based on the client-server paradigm. 
%\item Travel means: gps on taxi and shared mean
%\end{itemize}

\subsection{Software interfaces}
Software interfaces are logical linking across which two or more separate applications running on a system exchange information. The most relevant software interface in our system is API. APIs are sets of subroutine definitions, protocols and clearly defined methods of communication, allowing data exchanging and service requests. There are several kinds of these:
\begin{itemize}
\item \textbf{Operating System APIs}: specify interface between applications and OS, permitting to access low level routines calls (for instance, to communicate with memory or with an internal device)\textbf{(!)}
\item \textbf{Remote APIs}: DBMS expose a set of standards that the API user can adopt in order to manage the database data. SQL is the standard language for storing, manipulating and retrieving data in this context;
\item \textbf{Web API}: information can be exchanged through the internet by encapsulating it in HTTP request/response. Weather forecast, travel services, mapping systems offer this typology of API.
\end{itemize}

\subsection{Communications interfaces}
Communication interfaces allows two different architectures of the system to exchange information through communication channel. These non-homogeneous components of the system can communicate thanks to the following software interfaces and protocols:
\begin{itemize}
\item \textbf{Cellular connectivity}: mobile devices can connect to the internet thanks to LTE standard;
\item \textbf{GPS}: cellular can retrieve his coordinates position through NMEA protocol;
\item \textbf{QRCode}: associates a matrix of bits to an URL. QRCodes are present in most of the shared means, semplifying the booking of that.
%identify the nearby transportation
\end{itemize}


\section{Functional requirements}
\subsection{Scenarios}

Here are some scenarios that describe the usage of the system.

\subsubsection{Scenario 1} \label{scenario:1}
Giovanni will start the fourth year of his Master's degree. Surfing the internet, he finds out that his lesson schedule for the first semester it has been published. Giovanni decides to fill in the application with his new appointments related to lessons attendance. In fact he knows where to go, at which time and day and for which amount of time. Since he knows that these events will going to happen for 3 months, he sets them as recurrent.

\subsubsection{Scenario 2} \label{scenario:2}
\textbf{da rileggere scritta veloce}
Giovanni want to start training but he doesn't know what are the best hours in which he can run in accord to his appointments, he know only that he can run between 5 and 7 pm, for 45 minutes. he can insert this last appointment in the application whitout specify the exactly starting hour and the system will give him the best hours in which he can run

\subsubsection{Scenario 3} \label{scenario:3}
\textbf{da rileggere scritta veloce}
Giovanni has scheduled his appointments but at lunch time his son called him because he needed a ride for go back to home. Giovanni decided to help his son and so he brought him home. now the current running schedule is not more valid so he request to the system a reschedule of his appointment according to his position and the hour of day in which he is.  

\subsection{Use cases}

\subsubsection{User log-in}

\begin{tabular}{|p{14cm}|} \hline

\textbf{Name:} User log-in \\ \hline

\textbf{Actors:} Registered User \\ \hline

\textbf{Goals}: (\textbf{Goal del login} \\ \hline

\textbf{Input Condition:} The user is registered to the system \\ \hline

\textbf{Event Flow:} 

\begin{enumerate}
\item The user needs to log-in the application, so he runs it;
\item The system provides to the user a form to fill;
\item The user fills up the form with the his e-mail and his password (as said in \ref{subsect:usermodel})
\item The user submits the form to the system;
\item The system checks the user identity and provides to the user the main application page (\textbf{reference to the main application page})
\end{enumerate} \\ \hline

\textbf{Output Condition:} The user is logged-in to the system. \\ \hline

\textbf{Exceptions:} The user submits the form after having filled it with a wrong email or password. \\ \hline

\textbf{Mapping on requirements:}

\begin{itemize}
\item Events from 3 through 5 granted by (\textbf{requirement che può recuperare informazioni dell'utente riguardo i dati della registrazione});
\item Event 6 grandet by (\textbf{requirement che il sistema può controllare se l'identità di un utente è giusta};
\end{itemize} \\ \hline

\end{tabular}

\includegraphics[width=400pt, keepaspectratio]{"images/LogInSequenceDiagram".png}

\subsubsection{Appointment creation} \label{usecase:appcreation}

\begin{longtable}{|p{14cm}|} \hline
\textbf{Name:} Appointment creation \\ \hline
\textbf{Actors:} Logged User \\ \hline
\textbf{Goals:} \goalref{goal:G1} \\ \hline
\textbf{Input Condition:} 
\begin{itemize}
\item The user is registered to the system 
\item The user is logged in to the systems 
\end{itemize}
\\ \hline
\textbf{Event Flow:}
\begin{enumerate}
\item The user wants to add a new appointment to his schedule;
\item The user requests the appointments page
\item The system provides the appointments page
\item The user requests the creation of a new appointment to the application;
\item The system provides to the user a form to fill;
\item The user fills up the form with the parameters (specified in \ref{subsect:appointmentmodel}) and constraints (specified in \ref{subsubsect:constronappoint} about the new appointment;
\item The user submit the form to the system;
\item The system allocates the new appointment as Unscheduled (referring to statechart in figure; \label{fig:stchartApp})
\item The system sends a confirmation to the user.
\end{enumerate}	\\ \hline

\textbf{Output Condition:} The user has created a new appointment; \\ \hline

\textbf{Exceptions:}
\begin{enumerate}
\item Some fields of the form referring to parameters are left blank;
\item The \textit{location} field doesn't belong to the domain area of the application (\textbf{riferimento alla domain assumption della regione})
\end{enumerate} \\ \hline
\textbf{Mapping on Requirements:}
\begin{itemize}
\item Events 4 through 7 are granted by (\textbf{requirement che il sistema può recuperare informazioni riguardanti un appointment})
\item Event 7 is granted by (\textbf{requirement che il sistema è in grado di memorizzare un appointment}
\end{itemize}  \\ \hline


\end{longtable}

\begin{figure}[H]
\begin{center}
\includegraphics[width=400pt, keepaspectratio]{"images/sequenceDiagramAppointmentCreation".png}
\caption{Appointment creation sequence diagram}
\label{img:seqDiagrAppCreation}
\end{center}
\end{figure}

In the sequence diagram there's the assumption that the log-in proceeds successfully. The log-in procedure referenced is the one explained in (\textbf{use case del log-in}.)

\subsubsection{Schedule selection}
\begin{longtable}{|p{14cm}|} \hline
\textbf{Name:} Multiple Schedules creation \\ \hline
\textbf{Actors:} Logged User \\ \hline
\textbf{Goals:} \textbf{aggiungere rif al goal} \\ \hline
\textbf{Input Condition:} 
\begin{itemize}
\item The user is registered to the system 
\item The user is logged in to the systems 
\end{itemize}
\\ \hline
\textbf{Event Flow:}
\begin{enumerate}
\item The user wants to compare multiple schedules;
\item The user requests the schedules page;
\item The system provides the schedules page;
\item The user selects a schedule to be run;
\item The system display the mainpage with the schedule results (fare riferimento alla definizione)
\end{enumerate}	\\ \hline
\textbf{Output Condition:} The user selects a schedule to be run \\ \hline
\textbf{Exceptions:}
\\ \hline
\textbf{Mapping on Requirements:}
\begin{itemize}
\item Events are granted by the requirment R10 \textbf{(mettere riferimenti)}
\end{itemize}  \\ \hline

\end{longtable}
\label{usecase:ScheduleSelection}

\begin{figure}[H]
\begin{center}
\includegraphics[width=400pt, keepaspectratio]{"images/ScheduleSelectionSequenceDiagram".png}
\caption{Appointment creation sequence diagram}
\label{img:ScheduleSelection}
\end{center}
\end{figure}

\subsubsection{Appointment editing}\label{usecase:appediting}
\begin{longtable}{|p{14cm}|} \hline
\textbf{Name:} Appointment editing \\ \hline
\textbf{Actors:} Logged User \\ \hline
\textbf{Goals:} (\textbf{goal che l'utente può modicare un appointment})\\ \hline
\textbf{Input Condition: The user is logged-in to the system} \\ \hline
\textbf{Event Flow:}
\begin{enumerate}
\item The user wants to modify an appointment of his schedule;
\item The user selects the appointment to modify;
\item The system provides to the user the appointment form with all the parameters and constraints (with reference to %\ref{subsect:appointmentmodel 
and 
%\ref{subsect:appointmentmodel}} 
that were specified yet by the user; 
\item The user edits the fields of the form;
\item The user submit the form to the system;
\item The system set the appointment as Unscheduled with the new parameters (referring to statechart in figure ..); \label{fig:stchartApp})
\item The system sends a confirmation to the user.
\end{enumerate}	\\ \hline
\textbf{Output Condition:}  The user has modified an appointment; \\ \hline
\textbf{Exceptions:}
\begin{enumerate}
\item Some fields of the form referring to parameters are left blank;
\item The \textit{location} field doesn't belong to the domain area of the application (\textbf{riferimento alla domain assumption della regione})
\end{enumerate} \\ \hline
\textbf{Mapping on Requirements:}
\begin{itemize}
\item Events 3 through 5 are granted by \textbf{(the requirement that says that the system should let the user change the parameters and the constraints of an inserted appointment)}
\item Event 6 is granted by (\textbf{requirement che il sistema è in grado di memorizzare un appointment modificato}
\end{itemize}  \\ \hline

\end{longtable}

\begin{figure}[H]
\begin{center}
\includegraphics[width=400pt, keepaspectratio]{"images/seqDiagramAppointmentEditing".png}
\caption{Appointment editing sequence diagram}
\label{img:seqDiagrAppEditing00}
\end{center}
\end{figure}


\subsubsection{Schedule appointments}\label{usecase:scheduleappointments}
\begin{longtable}{|p{14cm}|} \hline
\textbf{Name:} Schedule appointments \\ \hline
\textbf{Actors:} Logged User, External API \\ \hline
\textbf{Goals:} (\textbf{goal che permette di fare uno scheduling degli appuntamenti dell'utente})\\ \hline
\textbf{Input Condition: The user is logged-in to the system (\textbf{in futuro mettere che l'actor è un logged user e togliere questo, se ci piace di più}} \\ \hline

\textbf{Event Flow:}
\begin{enumerate}
\item The user wants to schedule his appointments;
\item The user requests a schedule by mean of selecting the appointments to schedule of the current day;
\item The system provides to the user the schedule form with all the parameters, optimization criteria (with reference to (\textbf{parametri dello schedule} and \textbf{opt criteria dello schedule}) and the constraints (\textbf{riferimento ai constraints sullo schedule}.
\item The user fills up the fields of the form;
\item The user submits the form to the system;
\item The system retrieves information from external APIs about; travel options and related travel option data, weather forecast and strike days;
\item The system retrieves about the Travel Option Data of the newly created Schedule
\item The system stores the Schedule, together with his travel option data

(\textbf{link alla definizione}) and stores it as Saved (\textbf{fare riferimento allo state chart}) with the appointment selected by the user.
\end{enumerate}	\\ \hline

\textbf{Output Condition:} The user has created a valid schedule of his appointments; \\ \hline

\textbf{Exceptions:}
\begin{enumerate}
\item Some fields of the form referring to schedule variables and optimization criteria are left blank. The parameters of schedule constraints could also be left blank since they will assume default values;
\item It's not possible to list the appointments as a Valid Schedule, so the schedule is Discarded \textbf{(riferimento allo statechart)}
\end{enumerate} \\ \hline
\textbf{Mapping on Requirements:}
\begin{itemize}
\item Events 2 through 5 are granted by \textbf{(the requirement that says that the user can set the opt criteria, constraints, variables and  of the schedules)};
\item Event 6 and 7 is granted by (\textbf{the requirement that says that we can retrieve info from APIs});
\item Event 8 is granted by (\textbf{the requirement that says that is possible to store a schedule}, (\textbf{requirement che il sistema è in grado di ottimizzare in base a quanto gli dico}) 
\end{itemize}  \\ \hline

\end{longtable}

\begin{figure}[H]
\begin{center}
\includegraphics[width=450pt, keepaspectratio]{"images/SequenceDiagramSchedule".png}
\caption{Schedule appointents sequence diagram}

\label{img:seqDiagrAppEditing00}
\end{center}
\end{figure}

\subsubsection{User registration} \label{usecase:User registration}

\begin{longtable}{|p{14cm}|} \hline

\textbf{Name:} User registration \\ \hline

\textbf{Actors:} External User, external e-mail service \\ \hline

\textbf{Goals:} \goalref{goal:G5} \\ \hline

\textbf{Input Condition:} \\ \hline

\textbf{Event Flow:}

\begin{enumerate}
\item The user wants to register to the system, so he runs the application;
\item The system display the login/registration page
\item The user fills the form (the form is present on the first page that the application display after the startup)
\item The user submit the filled form to the system
\item The system send a confirmation e-mail to the user;
\item The system display a message in which the user is informed that he will recieve a confirmation e-mail;
\item The user confirm the registration by clicking a link in the received e-mail;
\item A confirmation message is sent to the application;
\item The user is redirected in his profile page inside the application;
\item The user specifies his parameters;
\end{enumerate}	\\ \hline

\textbf{Output Condition:} The registration is confirmed to the system; \\ \hline

\textbf{Exceptions:}

\begin{enumerate}
\item The e-mail given by the user is fake 
\item The user makes a typo during the insertion of his e-mail
\end{enumerate} \\ \hline

\textbf{Mapping on Requirements:}

\begin{itemize}
\item Events 1 through 3 are granted by R12;(AGGIUNGERE I RIFERIMENTI)
\item Evens 4 through 6 are granted by R13. (AGGIUNGERE I RIFERIMENTI)
\end{itemize}  \\ \hline

\end{longtable}

\begin{figure}[H]
\begin{center}
\includegraphics[width=400pt, keepaspectratio]{"images/RegistrationSequenceDiagram".png}
\caption{Registration sequence diagram}
\label{img:seqDiagrAppEditing00}
\end{center}
\end{figure}

\subsubsection{Booking phase} \label{usecase:Booking Phase}

\begin{longtable}{|p{14cm}|} \hline

\textbf{Name:}Booking phase \\ \hline

\textbf{Actors:} Logged User, External APIs \\ \hline

\textbf{Goals:} FARE RIFERIMENTO AL GOAL CORRETTO \\ \hline

\textbf{Input Condition:}

\begin{itemize}
\item The user must be logged in to the system;
\item The user must have selected a schedule to be run;
\item The user must have linked to the system his external accounts;(FARE RIFERIMENTO ALLA SEZIONE DOVE SI PARLA DI QUESTA COSA)
\item The user would like to buy the tickets for the travel means involved in the running schedule.
\end{itemize}
 \\ \hline

\textbf{Event Flow:}

\begin{enumerate}
\item The System, after the user have selected a schedule, asks to the user if he want to buy the ticket for the running schedule;
\item The User confirm to the system his intention;
\item The System perform a call to the travel means APIs for buying the ticket;
\item The APIs send back a confirmation message of the purchase;
\item The system send a confirmation message to the user.
\end{enumerate}	\\ \hline

\textbf{Output Condition:} The User recieve the confirmation message; \\ \hline

\textbf{Exceptions:}

\begin{enumerate}
\item The user doesn't have enough money in his card to complete the transaction;
\item there aren't free sits in one of the selected travel means; 
\end{enumerate} \\ \hline

\textbf{Mapping on Requirements:}

%\begin{itemize}
Events 3 through 5 granted by R17;(AGGIUNGERE I RIFERIMENTI) \\ \hline
%\end{itemize}  \\ \hline

\end{longtable}

\begin{figure}[H]
\begin{center}
\includegraphics[width=400pt, keepaspectratio]{"images/BookingPhaseSequenceDiagram".png}
\caption{Booking phase sequence diagram}
\label{img:seqDiagrAppEditing00}
\end{center}
\end{figure}

\subsubsection{Dynamic directions} \label{usecase:Dynamic Directions}

\begin{longtable}{|p{14cm}|} \hline

\textbf{Name:}Dynamic Directions\\ \hline

\textbf{Actors:} Logged User, External APIs, GPS \\ \hline

\textbf{Goals:} FARE RIFERIMENTO AL GOAL CORRETTO \\ \hline

\textbf{Input Condition:}

\begin{itemize}
\item The user must be logged in to the system;
\item The user must have a running schedule;
\end{itemize}
 \\ \hline

\textbf{Event Flow:}

\begin{enumerate}
\item The user requests the Directions for the travel to the system;
\item The system retrieves the user position from his GPS;
\item The system retrives from external APIs the directions to give to the user based on his position;
\item The system display to the user the updated map and the directions that him must follow in order to arrive to the next appointment
\item user doesn't need more directions so he closes the dynamic map.
\end{enumerate}	\\ \hline

\textbf{Output Condition:} The User is satisfied with the information gathered until this moment so he decides to close the dynamic map; \\ \hline

%\textbf{Exceptions:}
%
%\begin{enumerate}
%\item 
%\end{enumerate} \\ \hline

\textbf{Mapping on Requirements:}

%\begin{itemize}
Events 3 through 5 granted by R17;(AGGIUNGERE I RIFERIMENTI) \\\\ \hline
%\end{itemize}  \\ \hline

\end{longtable}

\begin{figure}[H]
\begin{center}
\includegraphics[width=400pt, keepaspectratio]{"images/DynamicDirectionsSequenceDiagram".png}
\caption{Booking phase sequence diagram}
\end{center}
\end{figure}

In this sequence diagram the loop of the actions described in the rectangle continues until the dynamicMap is closed (closeDynamicMap).

\subsubsection{Recover credentials}\label{usecase:recovercredentials}
\begin{longtable}{|p{14cm}|} \hline
\textbf{Name:} Schedule appointments \\ \hline
\textbf{Actors:} Registered User, External Email Service \\ \hline
\textbf{Goals:} (\textbf{goal che permette di recuperare le credenziali dell'utente})\\ \hline
\textbf{(\textbf{in futuro mettere che l'actor è un registered user e togliere questo, se ci piace di più}} \\ \hline

\textbf{Event Flow:}
\begin{enumerate}
\item The user wants to recover his passoword;
\item The user requests to recover his passoword;
\item The system provides to the user the schedule form with his e-mail;
\item The user fills up the field of the form;
\item The user submits the form to the system;
\item The system sends the e-mail to the user with his password.
\end{enumerate}
\\ \hline

\textbf{Output Condition:} The user has recovered his password; \\ \hline

\textbf{Exceptions:}
\begin{enumerate}
\item The form it's left blank;
\item An invalid address is given;
\end{enumerate} \\ \hline

\textbf{Mapping on Requirements:}
\begin{itemize}
\item Actions 2 through 4 granted by requirement (\textbf{the system should be able to recover email address from the user}
\item Action 5 granted by the other requirement
\end{itemize}  \\ \hline

\end{longtable}

\begin{figure}[H]
\begin{center}
\includegraphics[width=450pt, keepaspectratio]{"images/PasswordRecoverySequenceDiagram".png}
\caption{Password recovery sequence diagram}
\label{img:seqDiagrPasswordRecovery}
\end{center}
\end{figure}

\subsubsection{Notify Shared Means}\label{usecase:Notify Shared Means}
\begin{longtable}{|p{14cm}|} \hline
\textbf{Name:} Notify Shared Means \\ \hline
\textbf{Actors:} Registered User, External Api \\ \hline
\textbf{Goals:} (\textbf{goal di notificare all'utente la possibilità di prendere i mezzi condivisi})\\ \hline

\textbf{Event Flow:}
\begin{enumerate}
\item The system requests information to an external API about Shared Travel Means;
\item The external API service respond to the system with the information requested;
\item The system with the gathered information computes if there is a better path for the user according to the chosen constraints and optimization criteria;
\item if the path is found by the system is sent a notification to the user;
\end{enumerate}
\\ \hline

\textbf{Output Condition:} a better path is found; \\ \hline

\textbf{Exceptions:}
%\begin{enumerate}
%\end{enumerate} \\ \hline

\textbf{Mapping on Requirements:}
\begin{itemize}
\item Actions 1 and 2 are granted by R28 \textbf{FARE RIFERIMENTO}
\item Actions 4 is granted by R27 \textbf{FARE RIFERIMENTO}
\end{itemize}  \\ \hline

\end{longtable}

\textbf{AGGIUNGERE IMMAGINE GIA FATTA}

\subsection{Definition of use case diagrams}
In these diagrams we assume that the user has ran the application. In particular, if the actor is a \textit{Registered User} or an \textit{Enternal User} then we assume that the user is facing the login page (\textbf{riferimento alla login page}. On the other hand, if the actor is a \textit{Logged User} then is assumed that it is on the home page (\textbf{riferimento alla home page}.

\section{Performance Requirements}
The user must be notified in real time when a shared travel mean can be booked in order to provide a better mobility option,
since these kind of transportation can remain available for a limited amount of time.

Other performance requirements can't be easily expressed because they depends heavily on external services and on the device in which the application is run. For example the time needed to create a schedule is influenced by the promptness of the APIs.

Anyway an upper bound of 5 seconds for the creation of a schedule is given. Moreover, the position of the user during the progress of a schedule must be track with a maximum delay of 100ms.

\section{Design Constraints}

\subsection{Standard compliance}
Our system conforms to OAuth2 \footnote{Open Authentication, an industry-standard protocol for authorization. It focuses on client developer simplicity while providing specific authorization flows for web applications, desktop applications, mobile phones, and living room devices.} to handle the registration and login process. 
Moreover, HTTPS \footnote{HTTPS is a communications protocol for secure communication over a computer network. The main motivation for HTTPS is authentication of the visited website and protection of the privacy and integrity of the exchanged data.} protocol is used to guarantee secure treatment of user's sensitive data.

\subsection{Hardware limitations}
The bottleneck on the performance of the system is represented by the network infrastructure capability. In particular the most affected activity is the schedule computation.
\subsubsection{Analysis}
We can assume that the upload and download speeds of the APIs server is respectively 50Mbit/s and 150Mbit/s per client and that a request and a response weights are 20KB and 180KB.
We can consider 2 cases:
\begin{itemize}
\item 10Mbit/s and 5Mbit/s download and upload speeds respectively of the client;
\item 100Mbit/s and 50Mbit/s download and upload speeds respectively of the client.
\end{itemize}

\begin{table}[htbp]
  \centering
    \begin{tabular}{|r|r|r|r|r|}
    \hline
    \multicolumn{1}{|l|}{\textbf{No. Appointments}} & \multicolumn{1}{l|}{\textbf{No. APIs calls}} & \multicolumn{1}{l|}{\textbf{Request [MB]}} & \multicolumn{1}{l|}{\textbf{Response [MB]}} & \multicolumn{1}{l|}{\textbf{Tot [sec]}} \\ \hline
    %\midrule
    5 (2)    & 4   & 0.625 & 5.625 & 0.687 \\ \hline
    %\midrule
    10 (4)   & 28 & 4.375 & 39.375 & 4.812 \\ \hline
    %\midrule
    15 (7)   & 5047 & 788.6 & 7097.3 & 867.453 \\ \hline
    %\bottomrule
    \end{tabular}%
    \caption{Total times in the case of 10Mbit/s download speed and 5Mbit/s upload speed}
  \label{tab:addlabel}%
\end{table}%

\begin{table}[htbp]
  \centering
    \begin{tabular}{|r|r|r|r|r|}
    \hline
    \multicolumn{1}{|l|}{\textbf{No. Appointments}} & \multicolumn{1}{l|}{\textbf{No. APIs calls}} & \multicolumn{1}{l|}{\textbf{Request [MB]}} & \multicolumn{1}{l|}{\textbf{Response [MB]}} & \multicolumn{1}{l|}{\textbf{Tot [sec]}} \\ \hline
    %\midrule
    5 (2)    & 4   & 0.625 & 5.625 & 0.125 \\ \hline
    %\midrule
    10 (4)   & 28 & 4.375 & 39.375 & 0.875 \\ \hline
    %\midrule
    15 (7)   & 5047 & 788.6 & 7097.3 & 157.719 \\ \hline
    %\bottomrule
    \end{tabular}%
    \caption{Total times in the case of 100Mbit/s download speed and 50Mbit/s upload speed.}
  \label{tab:addlabel}%
\end{table}%

In the first column the numbers between brackets rempresent the number $n$ of appointments with variable starting time, so that can be arranged differently relative to each other, changing their order in the schedule. Then the number of calls to External APIs that should be done is calculated, in case of a brute-force approach in the scheduling algorithm. Therefore the number of calls is proportional to $n!$.
Finally the total amount of time is calculated considering the previous assumptions.

We can realize that the number of calls to external APIs should be minimized in order to fullfill the requirement on performance expressed in (\textbf{riferimento ai performance requirements}).

\subsection{Any other constraint}


\section{Software System Attributes}

\subsection{Reliability}
The system should guarantee that from the data retrieved is always constructed the most convenient valid schedules, according to user preferences and constraints, if it exists.

\subsection{Availability}
The system should be accessible 24 hours per day and should be available 99,9\% of the time (up to 8,76 hours per year of downtime). Anyway the availability of the features involving the use of external services can't be direct controlled. In particular the availability of the feature $j$ is given by:

\begin{equation}
A_j = a_0 \prod_{i=1}^n a_i 
\end{equation} 

where each $a_i$ represent the availability of the external service $i$ used and $a_0$ is the availability of the application.

\subsection{Security}
The identity of the user must be verified through a login phase.
User's characteristics must be protected during transmission from client to server throughout the registration. User credentials are cryptographied and then saved.
\subsection{Maintainability}
The system should be open to modifications.
In particular the application should be able to consider new travel means, new scheduling optimization criteria and new constraints.
Moreover, also the GUI should be easily editable, so that can adapt to new operating systems.

\subsection{Portability}
The system should be adaptable to run in all the devices (\textbf{link alla definizione}) considered.