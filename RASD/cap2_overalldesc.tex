\chapter{Overall Description}

\section{Product Perspective}

\subsection{User Model}
A user is represented within the application by a set of parameters:
Some important informations about the user are held by the following ones:
\begin{itemize}
\item \textit{travelPass}: indicates if the user has a pass for public transportation;
\item \textit{hasBike};
\item \textit{hasCar}.
\end{itemize}

\subsection{Appointment Model} \label{subsect:appointmentmodel}
An appointment is represented within the application by a set of parameters:
\begin{itemize}
\item \textit{duration}: the time extension of the appointment
\item \textit{startingTime} or \textit{timeInterval}: the first should be given if the starting hour is well-known (deterministic), otherwise a time interval in which the appointment will be held it's provided. 
%In particular: \begin{equation}timeInterval.start + duration \leq timeInterval.end \label{eqn:constrOnTimeInterval} \end{equation}
\item \textit{location}: identifies the coordinates of the place where the appointment will be held;
\item \textit{recurrent}: specifies if the appointment will be repeated over a fixed period of time;
\item \textit{peopleTravelling}: represents a variation occourring when the user picks up or leaves off someone.
\end{itemize}

The life cycle of an appointment can be represented by the following statechart:
\begin{figure}[H]
\begin{center}
\includegraphics[width=\textwidth, keepaspectratio]{"images/stateChartAppointment".png}
\caption{Appointment statechart}
\label{fig:stchartApp}
\end{center}
\end{figure}

A newly-created appointment is \textbf{Unscheduled}. It could remain \textbf{Unscheduled} either when edited or there isn't a possible arrangement when a schedule is performed. Otherwise it becomes \textbf{Scheduled} if there's a feasible way to arrange it. When a scheduled appointment is edited all the appointments in that schedule return to be \textbf{Unscheduled}, because it's possible that they bring to a different schedule. When a scheduled appointment is fullfilled it becomes \textbf{Archived} and stored in the schedule history. If this last one is a recurrent appointment it must be reinsert in the list of unscheduled appointment so it will become \textbf{Unscheduled} again. The user can cancel an appointment in every moment. 

\subsection{Schedule Model} \label{subsect:schmodel}
A schedule is a set of Appointments in a given day, ordered by the scheduler following the criteria described below.
A schedule is characterized by the following variables:
\begin{itemize}
\item \textit{date};
\item \textit{startingPosition}: is the starting location of the user (e.g. user's home);
\item \textit{startingNumberOfPeople}: the number of people that must reach the first appointment.
\item \textit{wakeUpTime}: it is the starting time from which the schedule should start arranging appointments.
\end{itemize}

\includegraphics[width=\textwidth, keepaspectratio]{"images/stateChartSchedule1".png}

\subsubsection{The optimization criteria} \label{subsubsect:optcriteria} 
The criteria that can be chosen with priority for a schedule by the user  for the optimization are the following:
\begin{itemize}
\item \textit{Minimize carbon footprint}: the scheduler will try to minimize the amount of kilometers travelled in polluting means;
\item \textit{Minimize money spent}: the scheduler will try to avoid expensive means and to exploit the public ones (especially if the user has a pass) or going by bike or on foot;
\item \textit{Minimize travelling time}: the scheduler will compute the quickest possible path reaching all the appointments locations.
\end{itemize}

\subsection{Constraints}
Constraints are impositions on some parameters managed by the system during the process of scheduling the appointments. We can distinguish between constraints on schedule and contraints on the single appointment. These can be selected by the user when he inserts an appointment or when he requests a schedule, otherwise the constraints are initialized to default values. 

\subsubsection{Constraints on schedule} 
\begin{itemize}
\item \textit{Maximum travelling distance with a specific travel mean}: the user can set a maximum amount of km to travel with a travel mean;
\item\textit{ Travel means time slots}: user can specify a time interval in which a travel mean can be used;
\item \textit{User can deactivate a particular travel means};
\item \textit{User can select which travel means uses under certain weather condition}.
\end{itemize}

\subsubsection{Constraints on appointment} \label{subsubsect:constronappoint}
\begin{itemize}
\item \textit{User can deactivate a particular travel means}.
\end{itemize}

\subsection{Class Diagram}
\begin{figure}[H]
\begin{center}
\includegraphics[width=\textwidth, keepaspectratio]{"images/classDiagram".png}
\caption{System Class Diagram}
\end{center}
\end{figure}

\section{Product Functions}

The following requirements are derived in order to fullfill the specified goals.
\\


Requirements for \goalref{goal:G1}:

\begin{enumerate}
\renewcommand\labelenumi{\textbf{R\theenumi}}

\item The system S.B.A. to retrieve information from the user about his appointments; \label{req:R1}

Requirements for \goalref{goal:G2}:

\item Allow the user to set the parameters of the schedule (\ref{subsect:schmodel}), or to accept the default values;
 
\item Allow the user to select the optimization criteria (\ref{subsubsect:optcriteria}) for the schedule;

\item The system S.B.A. to gather information from external APIs about: 
\begin{itemize}
\item travel options with related travel option data;
\item weather forecast;
\item strike days;
\end{itemize}

\item The system S.B.A. to select the best travel option according to the optimization criteria taking into account:
\begin{itemize}
\item user constraint
\item user parameters \textbf{(aggiungere riferimento a user model)}
\item travel option data 
\item weather forecast
\item information about strike day
\end{itemize}

Requirements for \goalref{goal:G3}:

\item The system S.B.A to handle a registration phase in which the user will provide an e-mail and a password

\item The system S.B.A. to verify the e-mail given by the user

Requirements for \goalref{goal:G9}:
\item The system S.B.A to recognize a registered user given an e-mail and a password
\\

%\item The system S.B.A. to compare different travel options with related travel option data according to the optimization criteria;

%\item The system S.B.A. to avoid a particular travel mean under a certain weather condition;



Requirements for \goalref{goal:G4}: 

\item The system should offer to the user a way to link all his travel service accounts into the Travlendar+ account;

\item The system S.B.A to book a travel mean through external API offered by third part application in which the user is signed
\\


Requirements for \goalref{goal:G5}:

\item The system S.B.A to retrive the graphical representation of a path from an external API 

\item The stystem S.B.A to retrive the travel option from an external API \textbf{(questa che già si è detta ma serve anche per questo goal come facciamo?)}

\item The S.B.A to retrive the length of a path from an external API  

Requirments for \goalref{goal:G8}:

\item The system S.B.A to store valid schedules requested by the user

\item The system should let the user accept a schedule from the saved ones 

\end{enumerate}


\subsection{User characteristics}
Users can use our system when they want something that let them able to schedule theire meetings according to theire necessities and constraints. Necessary conditions for the users in order to use the system are: 

\begin{itemize}
\item He must have an \textbf{(specificare meglio in seguito in quale dispositivo occorre farla girare)} connected to the internet in which run the application
\end{itemize}

This is the only requirement that is needed. Anyway additional characteristics of the user lead to the exploitment of  all the system features. In fact some of them are guaranteed only after having submitted to the application some information.
In this sense, wellcomed user's characteristics are:

\begin{itemize}
\item The ownership of some travel means
\item The ownership of travel passes
\item The registration to sharing services
\end{itemize}

Beside these, an obviously tacit assumption that is made it's that the user has an age in which is able to move where he wants with autonomy.


\subsection{ Assumptions, dependencies and constraints}

\begin{itemize}

\item The system should be able to retrieve information about public travel means. In particular:
\begin{itemize}
\item information about delays;
\item information on possible strike days.
\end{itemize}

\item The system should be able to retrieve information about shared means. In particular:
\begin{itemize}
\item position of the available ones;
\item prices per time unit;
\end{itemize}

\item There exist external APIs that allow to:
\begin{itemize}
\item retrieve all travel options and travel option data
\item signed user to book and pay for all travel services
\item retrive information about weather forecast
\item retrive a graphical representation of a path
\item retrive the lenght of a path
\end{itemize}

\item The device on which the application runs is connected to the internet;

\item every user has at least one personal e-mail 

\end{itemize}


%list of requirements given the goals


